{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const photoRequest = (param) => {\nconst URL_PIXABAY = 'https://pixabay.com/api/';\nconst API_KEY = '45654098-015d10b92a1455385bf1e768f';\n\n  const params = new URLSearchParams({\n  orientation: 'horizontal',\n  image_type: 'photo',\n  safesearch: 'true',\n  });\n  \n  return fetch(`${URL_PIXABAY}?key=${API_KEY}&q=${param}&${params}`).then(response => {\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  return response.json();  \n});\n} \n","export const galleryMarkup = (info) => {\n    return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${info.largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${info.webformatURL}\" alt=\"${info.tags}\" />\n    </a>\n    <div class=\"wrapper\">\n    <ul class=\"img\">\n      <li class=\"text-item\">\n        Likes<span class=\"text\">${info.likes}</span>\n      </li>\n      <li class=\"text-item\">\n        Views<span class=\"text\">${info.views}</span>\n      </li>\n      <li class=\"text-item\">\n        Comments<span class=\"text\">${info.comments}</span>\n      </li>\n      <li class=\"text-item\">\n        Downloads<span class=\"text\">${info.downloads}</span>\n      </li>\n    </ul>\n  </div>\n    </li>`;\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { photoRequest } from \"./js/pixabay-api\";\nimport { galleryMarkup } from \"./js/render-functions\";\n\nconst formEl = document.querySelector('.forms');\nconst galleryEl = document.querySelector('.gallery');\nconst loader = document.querySelector('.js-loader');\n\nfunction creatingElements(event) {\n  event.preventDefault();\n  const el = formEl.elements.user.value.trim();\n\n  photoRequest(el)\n  .then(data => {\n  if (data.hits.length === 0) {\n    iziToast.error({\n    position: 'topRight',\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n    });\n    \n    galleryEl.innerHTML = '';\n    formEl.reset();\n\n  }\n      \n  formEl.reset();\n      \n  const creatingGaleri = data.hits.map(imginfo => galleryMarkup(imginfo)).join('');\n    galleryEl.innerHTML = creatingGaleri;\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    overlayOpacity: 0.8,\n  });\n    lightbox.refresh();\n  })\n  .catch(error => {\n    console.log(error);\n  })\nfunction loading() {\n  loader.classList.remove('is-hidden');\n}\nfunction hideloading() {\n  loader.classList.add('is-hidden');\n}\n\nloading();\nsetTimeout(hideloading, 1000);\n}\n\nformEl.addEventListener('submit', creatingElements);\n"],"names":["photoRequest","param","URL_PIXABAY","API_KEY","params","response","galleryMarkup","info","formEl","galleryEl","loader","creatingElements","event","el","data","iziToast","creatingGaleri","imginfo","SimpleLightbox","error","loading","hideloading"],"mappings":"6vBAAO,MAAMA,EAAgBC,GAAU,CACvC,MAAMC,EAAc,2BACdC,EAAU,qCAERC,EAAS,IAAI,gBAAgB,CACnC,YAAa,aACb,WAAY,QACZ,WAAY,MACd,CAAG,EAED,OAAO,MAAM,GAAGF,CAAW,QAAQC,CAAO,MAAMF,CAAK,IAAIG,CAAM,EAAE,EAAE,KAAKC,GAAY,CACpF,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MAClB,CAAC,CACD,EChBaC,EAAiBC,GACnB;AAAA,oCACyBA,EAAK,aAAa;AAAA,sCAChBA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,kCAKxCA,EAAK,KAAK;AAAA;AAAA;AAAA,kCAGVA,EAAK,KAAK;AAAA;AAAA;AAAA,qCAGPA,EAAK,QAAQ;AAAA;AAAA;AAAA,sCAGZA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,WCR9CC,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,YAAY,EAElD,SAASC,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAKL,EAAO,SAAS,KAAK,MAAM,OAEtCR,EAAaa,CAAE,EACd,KAAKC,GAAQ,CACVA,EAAK,KAAK,SAAW,IACvBC,EAAS,MAAM,CACf,SAAU,WACV,QAAS,0EACb,CAAK,EAEDN,EAAU,UAAY,GACtBD,EAAO,MAAK,GAIdA,EAAO,MAAK,EAEZ,MAAMQ,EAAiBF,EAAK,KAAK,IAAIG,GAAWX,EAAcW,CAAO,CAAC,EAAE,KAAK,EAAE,EAC7ER,EAAU,UAAYO,EACP,IAAIE,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,eAAgB,EACpB,CAAG,EACU,QAAO,CACpB,CAAG,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACrB,CAAG,EACH,SAASC,GAAU,CACjBV,EAAO,UAAU,OAAO,WAAW,CACrC,CACA,SAASW,GAAc,CACrBX,EAAO,UAAU,IAAI,WAAW,CAClC,CAEAU,IACA,WAAWC,EAAa,GAAI,CAC5B,CAEAb,EAAO,iBAAiB,SAAUG,CAAgB"}